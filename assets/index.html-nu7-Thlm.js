import{_ as s,c as t,a as l,o as a}from"./app-BPmJL-vo.js";const i={};function o(r,e){return a(),t("div",null,[...e[0]||(e[0]=[l(`<h2 id="tmux" tabindex="-1"><a class="header-anchor" href="#tmux"><span>tmux</span></a></h2><h3 id="tmux-简介" tabindex="-1"><a class="header-anchor" href="#tmux-简介"><span>Tmux 简介</span></a></h3><ul><li>Tmux 是一个终端复用器（terminal multiplexer），允许在单一窗口中同时运行多个会 话，并支持分离会话、共享会话等功能。</li><li>它的主要功能： <ol><li>允许多个会话共用一个窗口。</li><li>支持在不同终端之间共享会话。</li><li>支持窗口的垂直和水平拆分。</li></ol></li></ul><h3 id="安装-tmux" tabindex="-1"><a class="header-anchor" href="#安装-tmux"><span>安装 Tmux</span></a></h3><ul><li>在 Ubuntu 或 Debian 上安装：<br><code>sudo apt-get install tmux</code></li><li>在 CentOS 或 Fedora 上安装：<br><code>sudo yum install tmux</code></li><li>在 Mac 上安装：<br><code>brew install tmux</code></li></ul><h3 id="基本操作" tabindex="-1"><a class="header-anchor" href="#基本操作"><span>基本操作</span></a></h3><ul><li>启动 Tmux：<br><code>tmux</code></li><li>退出 Tmux：<br><code>exit</code> 或按 <code>Ctrl+d</code></li></ul><h3 id="前缀键" tabindex="-1"><a class="header-anchor" href="#前缀键"><span>前缀键</span></a></h3><ul><li>默认前缀键是 <code>Ctrl+b</code>，所有快捷键需先按 <code>Ctrl+b</code>，然后再按其他按键。 <ul><li>示例：<code>Ctrl+b ?</code> 查看帮助。</li></ul></li></ul><h3 id="会话管理" tabindex="-1"><a class="header-anchor" href="#会话管理"><span>会话管理</span></a></h3><ol><li><strong>新建会话</strong>：<br><code>tmux new -s &lt;session-name&gt;</code></li><li><strong>分离会话</strong>：<br><code>Ctrl+b d</code> 或 <code>tmux detach</code></li><li><strong>列出所有会话</strong>：<br><code>tmux ls</code></li><li><strong>接入会话</strong>：<br><code>tmux attach -t &lt;session-name&gt;</code></li><li><strong>杀死会话</strong>：<br><code>tmux kill-session -t &lt;session-name&gt;</code></li><li><strong>切换会话</strong>：<br><code>tmux switch -t &lt;session-name&gt;</code></li><li><strong>重命名会话</strong>：<br><code>tmux rename-session -t &lt;session-name&gt; &lt;new-name&gt;</code></li></ol><h3 id="最简操作流程" tabindex="-1"><a class="header-anchor" href="#最简操作流程"><span>最简操作流程</span></a></h3><ol><li>新建会话：<br><code>tmux new -s my_session</code></li><li>在 Tmux 窗口运行程序。</li><li>分离会话：<br><code>Ctrl+b d</code></li><li>下次连接会话：<br><code>tmux attach -t my_session</code></li></ol><h3 id="窗格操作" tabindex="-1"><a class="header-anchor" href="#窗格操作"><span>窗格操作</span></a></h3><ol><li><strong>划分窗格</strong>： <ul><li>垂直划分：<br><code>Ctrl+b %</code></li><li>水平划分：<br><code>Ctrl+b &quot;</code></li></ul></li><li><strong>切换窗格</strong>： <ul><li>上方窗格：<br><code>Ctrl+b ↑</code></li><li>下方窗格：<br><code>Ctrl+b ↓</code></li><li>左边窗格：<br><code>Ctrl+b ←</code></li><li>右边窗格：<br><code>Ctrl+b →</code></li></ul></li><li><strong>交换窗格位置</strong>： <ul><li>上移：<br><code>Ctrl+b U</code></li><li>下移：<br><code>Ctrl+b D</code></li></ul></li><li><strong>关闭窗格</strong>：<br><code>Ctrl+b x</code></li></ol><h3 id="窗口管理" tabindex="-1"><a class="header-anchor" href="#窗口管理"><span>窗口管理</span></a></h3><ol><li><strong>新建窗口</strong>：<br><code>Ctrl+b c</code></li><li><strong>切换窗口</strong>： <ul><li>上一个窗口：<br><code>Ctrl+b p</code></li><li>下一个窗口：<br><code>Ctrl+b n</code></li><li>切换到指定窗口：<br><code>Ctrl+b &lt;number&gt;</code></li></ul></li><li><strong>重命名窗口</strong>：<br><code>Ctrl+b ,</code></li></ol><h2 id="ssh" tabindex="-1"><a class="header-anchor" href="#ssh"><span>SSH</span></a></h2><h3 id="安装-ssh-server" tabindex="-1"><a class="header-anchor" href="#安装-ssh-server"><span>安装 SSH Server</span></a></h3><ul><li>安装 SSH Server：<br><code>apt install ssh-server</code></li><li>查看服务端状态：<br><code>service sshd status</code></li></ul><h3 id="客户端配置" tabindex="-1"><a class="header-anchor" href="#客户端配置"><span>客户端配置</span></a></h3><ul><li>安装 SSH 客户端：<br><code>apt install ssh-client</code></li><li>生成 SSH 密钥：<br><code>ssh-keygen -t rsa</code> （使用 rsa 算法生成密钥）</li><li>将公钥复制到远程服务器：<br><code>ssh-copy-id [用户名]@[ip]</code></li><li>设置密钥权限：<br><code>chmod 0400 id_rsa</code></li></ul><h3 id="连接" tabindex="-1"><a class="header-anchor" href="#连接"><span>连接</span></a></h3><ul><li>使用 SSH 连接远程服务器： <code>ssh -i ~/.ssh/id_rsa -p 999 root@140.143.18.32</code></li><li>默认端口连接： <code>ssh -p [端口] [用户名]@[ip]</code></li><li>使用 RSA 文件连接： <code>ssh -i [rsa文件] -p [端口] [用户名]@[ip]</code></li><li>登出：<br><code>logout</code></li></ul><h3 id="导出日志" tabindex="-1"><a class="header-anchor" href="#导出日志"><span>导出日志</span></a></h3><ul><li>导出远程服务器日志：<br><code>ssh root@47.116.28.185 journalctl &gt; journal.txt</code></li></ul><h2 id="vs-code-ssh-配置" tabindex="-1"><a class="header-anchor" href="#vs-code-ssh-配置"><span>VS Code SSH 配置</span></a></h2><h3 id="配置步骤" tabindex="-1"><a class="header-anchor" href="#配置步骤"><span>配置步骤</span></a></h3><ol><li><p>编辑 SSH 配置文件：<br><code>~/.ssh/config</code></p></li><li><p>配置内容示例：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Host &lt;myhost&gt;</span></span>
<span class="line"><span>  HostName &lt;myhost&gt;</span></span>
<span class="line"><span>  User &lt;remoteuser&gt;</span></span>
<span class="line"><span>  Port 22</span></span>
<span class="line"><span>  PreferredAuthentications publickey</span></span>
<span class="line"><span>  IdentityFile &quot;/Users/&lt;localuser&gt;/.ssh/keys/&lt;myhost&gt;_rsa&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>生成 SSH 密钥：<br><code>ssh-keygen -q -b 2048 -P &quot;&quot; -f /Users/&lt;localuser&gt;/.ssh/keys/&lt;myhost&gt;_rsa -t rsa</code></p><ul><li>生成两个文件：<br><code>&lt;myhost&gt;_rsa</code>（私钥）<br><code>&lt;myhost&gt;_rsa.pub</code>（公钥）</li></ul></li><li><p>将公钥 <code>&lt;myhost&gt;_rsa.pub</code> 复制到服务器的 <code>~/.ssh/authorized_keys</code> 文件中。</p><ul><li>如果 <code>authorized_keys</code> 文件不存在，可以重命名 <code>&lt;myhost&gt;_rsa.pub</code> 为 <code>authorized_keys</code> 并设置权限：<br><code>chmod 600 authorized_keys</code></li></ul></li><li><p>连接测试：<br> 在终端输入：<br><code>ssh &lt;remoteuser&gt;@&lt;myhost&gt;</code><br> 无需输入密码即可登录。</p></li></ol><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接"><span>参考链接</span></a></h2><ul><li><a href="https://www.ruanyifeng.com/blog/2019/10/tmux.html" target="_blank" rel="noopener noreferrer">Tmux 基本用法</a></li></ul><p>虚拟机为了配合主机使用ActivityWatch，主机服务运行在5600端口，放行虚拟机NAT子网防 火墙之后，无论如何也无法访问。经查发现是ActivityWatch故意设置了门槛，以防软件被 滥用。</p>`,32)])])}const d=s(i,[["render",o]]),c=JSON.parse('{"path":"/notes/misc/ssh-and-tmux/","title":"SSH and Tmux","lang":"en-US","frontmatter":{"title":"SSH and Tmux","createTime":"2024/01/11 16:19:20","permalink":"/notes/misc/ssh-and-tmux/","outline":[2,4],"description":"tmux Tmux 简介 Tmux 是一个终端复用器（terminal multiplexer），允许在单一窗口中同时运行多个会 话，并支持分离会话、共享会话等功能。 它的主要功能： 允许多个会话共用一个窗口。 支持在不同终端之间共享会话。 支持窗口的垂直和水平拆分。 安装 Tmux 在 Ubuntu 或 Debian 上安装： sudo apt-ge...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSH and Tmux\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-24T21:00:16.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://saturntsen.github.io/notes/misc/ssh-and-tmux/"}],["meta",{"property":"og:site_name","content":"SaturnTsen"}],["meta",{"property":"og:title","content":"SSH and Tmux"}],["meta",{"property":"og:description","content":"tmux Tmux 简介 Tmux 是一个终端复用器（terminal multiplexer），允许在单一窗口中同时运行多个会 话，并支持分离会话、共享会话等功能。 它的主要功能： 允许多个会话共用一个窗口。 支持在不同终端之间共享会话。 支持窗口的垂直和水平拆分。 安装 Tmux 在 Ubuntu 或 Debian 上安装： sudo apt-ge..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-02-24T21:00:16.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-24T21:00:16.000Z"}]]},"readingTime":{"minutes":2.72,"words":815},"git":{"createdTime":1734803041000,"updatedTime":1740430816000,"contributors":[{"name":"SaturnTsen","username":"SaturnTsen","email":"minger233@outlook.com","commits":5,"avatar":"https://avatars.githubusercontent.com/SaturnTsen?v=4","url":"https://github.com/SaturnTsen"}]},"autoDesc":true,"filePathRelative":"notes/misc/SSH-Tmux.md","headers":[],"categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"133904","sort":10001,"name":"misc"}]}');export{d as comp,c as data};
