<!doctype html><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.161" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Linux Net Tools","image":[""],"dateModified":"2025-02-26T09:45:23.000Z","author":[]}</script><meta property="og:url" content="https://saturntsen.github.io/notes/misc/linux-net-tools/"><meta property="og:site_name" content="SaturnTsen"><meta property="og:title" content="Linux Net Tools"><meta property="og:description" content="Linux 网络管理方式总结 Linux 中有三种主要的网络管理方式： 最早的方法： 使用 /etc/network/interfaces 文件和 ifup/ifdown 脚本来管理网络接口。 第二种方法： 引入了 network-manager 守护进程（通常写作 Network-Manager），它提供了图形界面（GUI）管理网络接口。 第三种方法..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2025-02-26T09:45:23.000Z"><meta property="article:tag" content="network"><meta property="article:tag" content="utils"><meta property="article:modified_time" content="2025-02-26T09:45:23.000Z"><link rel="icon" href="/favicon.ico"><title>Linux Net Tools | SaturnTsen</title><meta name="description" content="Linux 网络管理方式总结 Linux 中有三种主要的网络管理方式： 最早的方法： 使用 /etc/network/interfaces 文件和 ifup/ifdown 脚本来管理网络接口。 第二种方法： 引入了 network-manager 守护进程（通常写作 Network-Manager），它提供了图形界面（GUI）管理网络接口。 第三种方法..."><link rel="preload" href="/assets/style-CU0EtsvZ.css" as="style"><link rel="stylesheet" href="/assets/style-CU0EtsvZ.css"><link rel="modulepreload" href="/assets/app-BPmJL-vo.js"><link rel="modulepreload" href="/assets/index.html-gtR08_vy.js"><link rel="prefetch" href="/assets/index.html-BmG4TjtM.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ1NaJuK.js" as="script"><link rel="prefetch" href="/assets/index.html-vVZNyw0-.js" as="script"><link rel="prefetch" href="/assets/index.html-ZDreb-Cr.js" as="script"><link rel="prefetch" href="/assets/index.html-DnwmR40J.js" as="script"><link rel="prefetch" href="/assets/index.html-DqKRuwzh.js" as="script"><link rel="prefetch" href="/assets/index.html-BnO6pfWi.js" as="script"><link rel="prefetch" href="/assets/index.html-DqrV2oWi.js" as="script"><link rel="prefetch" href="/assets/index.html-D0505yVi.js" as="script"><link rel="prefetch" href="/assets/index.html-D4PfOoAo.js" as="script"><link rel="prefetch" href="/assets/index.html-OZtXDBX-.js" as="script"><link rel="prefetch" href="/assets/index.html-DB8OfTW0.js" as="script"><link rel="prefetch" href="/assets/index.html-Bf7LPeAD.js" as="script"><link rel="prefetch" href="/assets/index.html-Cf43ABLN.js" as="script"><link rel="prefetch" href="/assets/index.html-Dwovho6D.js" as="script"><link rel="prefetch" href="/assets/index.html-83zXgr4a.js" as="script"><link rel="prefetch" href="/assets/index.html-BLtwLLZI.js" as="script"><link rel="prefetch" href="/assets/index.html-BUZheLiL.js" as="script"><link rel="prefetch" href="/assets/index.html-DnU5krJy.js" as="script"><link rel="prefetch" href="/assets/index.html-YZrr0wBf.js" as="script"><link rel="prefetch" href="/assets/index.html-bkdbp8wU.js" as="script"><link rel="prefetch" href="/assets/index.html-CWFawhma.js" as="script"><link rel="prefetch" href="/assets/index.html-DGAYbThF.js" as="script"><link rel="prefetch" href="/assets/index.html-C46ohglK.js" as="script"><link rel="prefetch" href="/assets/index.html-CSRYllLl.js" as="script"><link rel="prefetch" href="/assets/index.html-Cnmy6xJA.js" as="script"><link rel="prefetch" href="/assets/index.html-KI14JA6V.js" as="script"><link rel="prefetch" href="/assets/index.html-CFqE0fIB.js" as="script"><link rel="prefetch" href="/assets/index.html-Cp3T_Wdm.js" as="script"><link rel="prefetch" href="/assets/index.html-C5T_LiKK.js" as="script"><link rel="prefetch" href="/assets/index.html-RGl9jofY.js" as="script"><link rel="prefetch" href="/assets/index.html-C2o8eR02.js" as="script"><link rel="prefetch" href="/assets/index.html-C4s21r8r.js" as="script"><link rel="prefetch" href="/assets/index.html-BGMJZV3q.js" as="script"><link rel="prefetch" href="/assets/index.html-BnGAEkBd.js" as="script"><link rel="prefetch" href="/assets/index.html-f3JN0p-H.js" as="script"><link rel="prefetch" href="/assets/index.html-D3JrJcoe.js" as="script"><link rel="prefetch" href="/assets/index.html-DZjtQU4g.js" as="script"><link rel="prefetch" href="/assets/index.html-DPDml381.js" as="script"><link rel="prefetch" href="/assets/index.html-D-DIxWNy.js" as="script"><link rel="prefetch" href="/assets/index.html-M3FNVy5f.js" as="script"><link rel="prefetch" href="/assets/index.html-BxBVeWuK.js" as="script"><link rel="prefetch" href="/assets/index.html-pBhdW37w.js" as="script"><link rel="prefetch" href="/assets/index.html-CMGEEupf.js" as="script"><link rel="prefetch" href="/assets/index.html-XKTeTmUn.js" as="script"><link rel="prefetch" href="/assets/index.html-Nwfmu88j.js" as="script"><link rel="prefetch" href="/assets/index.html-DzKok2JV.js" as="script"><link rel="prefetch" href="/assets/index.html-CzQ1v4M_.js" as="script"><link rel="prefetch" href="/assets/index.html-b5bM2Mm0.js" as="script"><link rel="prefetch" href="/assets/index.html-4FD4vMR_.js" as="script"><link rel="prefetch" href="/assets/index.html-CELX4Gv6.js" as="script"><link rel="prefetch" href="/assets/index.html-DAuv_XsY.js" as="script"><link rel="prefetch" href="/assets/index.html-D0HnbJld.js" as="script"><link rel="prefetch" href="/assets/index.html-cizS7tpp.js" as="script"><link rel="prefetch" href="/assets/index.html-Db9qbygp.js" as="script"><link rel="prefetch" href="/assets/index.html-BC33mLRG.js" as="script"><link rel="prefetch" href="/assets/index.html-Bgjlk9gZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DNyhKRbF.js" as="script"><link rel="prefetch" href="/assets/index.html-MHkPnQ_o.js" as="script"><link rel="prefetch" href="/assets/index.html-CoqucIIR.js" as="script"><link rel="prefetch" href="/assets/index.html-B6BIthZU.js" as="script"><link rel="prefetch" href="/assets/index.html-BKoKQbyt.js" as="script"><link rel="prefetch" href="/assets/index.html-Bshhoiba.js" as="script"><link rel="prefetch" href="/assets/index.html-nu7-Thlm.js" as="script"><link rel="prefetch" href="/assets/index.html-B1_Iy3K7.js" as="script"><link rel="prefetch" href="/assets/index.html-C5N22UG4.js" as="script"><link rel="prefetch" href="/assets/index.html-C2esroDP.js" as="script"><link rel="prefetch" href="/assets/index.html-BwFyN5XX.js" as="script"><link rel="prefetch" href="/assets/index.html-Cr91GHno.js" as="script"><link rel="prefetch" href="/assets/index.html-D6YLzvpj.js" as="script"><link rel="prefetch" href="/assets/index.html-Ds6znEeN.js" as="script"><link rel="prefetch" href="/assets/index.html-CAJn5R2r.js" as="script"><link rel="prefetch" href="/assets/index.html-CfYOQ07j.js" as="script"><link rel="prefetch" href="/assets/index.html-BpdD7CET.js" as="script"><link rel="prefetch" href="/assets/404.html-BRfb-qcV.js" as="script"><link rel="prefetch" href="/assets/index.html-DN0XcQYf.js" as="script"><link rel="prefetch" href="/assets/index.html-BrfGEaVq.js" as="script"><link rel="prefetch" href="/assets/index.html-DPdADZ69.js" as="script"><link rel="prefetch" href="/assets/index.html-Cxk-aAuN.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CKV1Bsxh.js" as="script"><link rel="prefetch" href="/assets/giscus-BACEvYzX.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-BgWbHU8C.js" as="script"><link rel="prefetch" href="/assets/SearchBox-D0_iY6j8.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-a218b6db><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-7a21891b></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-7a21891b> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-a218b6db data-v-cfd3cabe><div class="vp-navbar" vp-navbar data-v-cfd3cabe data-v-f0d7e165><div class="wrapper" data-v-f0d7e165><div class="container" data-v-f0d7e165><div class="title" data-v-f0d7e165><div class="vp-navbar-title has-sidebar" data-v-f0d7e165 data-v-78317e40><a class="vp-link link no-icon title" href="/" data-v-78317e40><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/avatars/avatar.png" alt data-v-17210522><!--]--><!--[--><img class="vp-image light logo" style="" src="/avatars/avatar.png" alt data-v-17210522><!--]--><!--]--><!--]--><span data-v-78317e40>SaturnTsen</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-f0d7e165><div class="content-body" data-v-f0d7e165><!--[--><!--]--><div class="vp-navbar-search search" data-v-f0d7e165><div class="search-wrapper" data-v-895d8b33><!----><div id="local-search" data-v-895d8b33><button type="button" class="mini-search mini-search-button" aria-label="Search" data-v-895d8b33><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">Search</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-f0d7e165 data-v-dd33332d><span id="main-nav-aria-label" class="visually-hidden" data-v-dd33332d>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-dd33332d data-v-caac0954><!--[--><!----><span data-v-caac0954>Home</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-dd33332d data-v-3dde86b7><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3dde86b7><span class="text" data-v-3dde86b7><!----><!----><span data-v-3dde86b7>Notes</span><!----><span class="vpi-chevron-down text-icon" data-v-3dde86b7></span></span></button><div class="menu" data-v-3dde86b7><div class="vp-menu" data-v-3dde86b7 data-v-55c02a15><div class="items" data-v-55c02a15><!--[--><!--[--><div class="vp-menu-link" data-v-55c02a15 data-v-b7034f0e><a class="vp-link link" href="/notes/um-cv/" data-v-b7034f0e><!--[--><!----> CV-NNDL <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-55c02a15 data-v-b7034f0e><a class="vp-link link" href="/notes/leetcode/" data-v-b7034f0e><!--[--><!----> LeetCode <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-55c02a15 data-v-b7034f0e><a class="vp-link link" href="/notes/misc/" data-v-b7034f0e><!--[--><!----> Misc <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-f0d7e165 data-v-be794682><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-be794682 data-v-42684fe4 data-v-196dff46><span class="check" data-v-196dff46><span class="icon" data-v-196dff46><!--[--><span class="vpi-sun sun" data-v-42684fe4></span><span class="vpi-moon moon" data-v-42684fe4></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-f0d7e165 data-v-a8dae519 data-v-865113bf><!--[--><a class="vp-social-link no-icon" href="https://github.com/saturntsen" aria-label="github" target="_blank" rel="noopener" data-v-865113bf data-v-08f84eea><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-f0d7e165 data-v-59aeafe8 data-v-3dde86b7><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3dde86b7><span class="vpi-more-horizontal icon" data-v-3dde86b7></span></button><div class="menu" data-v-3dde86b7><div class="vp-menu" data-v-3dde86b7 data-v-55c02a15><!----><!--[--><!--[--><!----><div class="group" data-v-59aeafe8><div class="item appearance" data-v-59aeafe8><p class="label" data-v-59aeafe8>Appearance</p><div class="appearance-action" data-v-59aeafe8><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-59aeafe8 data-v-42684fe4 data-v-196dff46><span class="check" data-v-196dff46><span class="icon" data-v-196dff46><!--[--><span class="vpi-sun sun" data-v-42684fe4></span><span class="vpi-moon moon" data-v-42684fe4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-59aeafe8><div class="item social-links" data-v-59aeafe8><div class="vp-social-links social-links-list" data-v-59aeafe8 data-v-865113bf><!--[--><a class="vp-social-link no-icon" href="https://github.com/saturntsen" aria-label="github" target="_blank" rel="noopener" data-v-865113bf data-v-08f84eea><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-f0d7e165 data-v-c65a6891><span class="container" data-v-c65a6891><span class="top" data-v-c65a6891></span><span class="middle" data-v-c65a6891></span><span class="bottom" data-v-c65a6891></span></span></button></div></div></div></div><div class="divider" data-v-f0d7e165><div class="divider-line" data-v-f0d7e165></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-a218b6db data-v-e2935d30><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-e2935d30><span class="vpi-align-left menu-icon" data-v-e2935d30></span><span class="menu-text" data-v-e2935d30>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-e2935d30 data-v-ff10071c><button data-v-ff10071c>Return to top</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-a218b6db data-v-4f040617><div class="curtain" data-v-4f040617></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4f040617><span id="sidebar-aria-label" class="visually-hidden" data-v-4f040617> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0" data-v-80522f8e data-v-467b1cf7><!----><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Miscellaneous</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0 has-active" data-v-80522f8e data-v-467b1cf7><div class="item" role="button" tabindex="0" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><h2 class="text" data-v-467b1cf7><span data-v-467b1cf7>Linux</span><!----></h2><!----></div><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/linux-setup/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Linux Setup</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/git/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Git</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/vim/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Vim</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/ssh-and-tmux/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>SSH and Tmux</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/bash-script/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Bash Script</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/linux-commands/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Linux 指令大全</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/linux-commands-system/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Linux 系统级常用指令</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/linux-net-tools/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Linux Net Tools</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0" data-v-80522f8e data-v-467b1cf7><div class="item" role="button" tabindex="0" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><h2 class="text" data-v-467b1cf7><span data-v-467b1cf7>Windows</span><!----></h2><!----></div><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/win-network/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Network Configuration</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/powershell-and-oh-my-posh/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Powershell</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/win2win-ssh/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Win2WinSSH</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/dism-winpe/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>DISM and WinPE</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/winget-scoop-chocolatey/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Package Managers</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0" data-v-80522f8e data-v-467b1cf7><div class="item" role="button" tabindex="0" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><h2 class="text" data-v-467b1cf7><span data-v-467b1cf7>Python</span><!----></h2><!----></div><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/conda-env-config/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>conda 使用指南</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/pip/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>pip 使用指南</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/local-compile/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Environment Cookbook</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/global-interpreter-lock-in-cpython/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>GIL in CPython</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0" data-v-80522f8e data-v-467b1cf7><div class="item" role="button" tabindex="0" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><h2 class="text" data-v-467b1cf7><span data-v-467b1cf7>Virtualization</span><!----></h2><!----></div><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/docker/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>Docker</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/vms/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>VMs</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/wsl/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>WSL</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-80522f8e><section class="vp-sidebar-item sidebar-item level-0" data-v-80522f8e data-v-467b1cf7><div class="item" role="button" tabindex="0" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><h2 class="text" data-v-467b1cf7><span data-v-467b1cf7>Others</span><!----></h2><!----></div><div data-v-467b1cf7 data-v-467b1cf7><div class="items" data-v-467b1cf7><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-467b1cf7 data-v-467b1cf7><div class="item" data-v-467b1cf7><div class="indicator" data-v-467b1cf7></div><!----><a class="vp-link link link" href="/notes/misc/javascript-inheritance/" data-v-467b1cf7><!--[--><p class="text" data-v-467b1cf7><span data-v-467b1cf7>JavaScript built-in hierarchy</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-a218b6db data-v-6e8aa8db><div class="vp-doc-container has-sidebar has-aside" data-v-6e8aa8db data-v-380c246c><!--[--><!--]--><div class="container" data-v-380c246c><div class="aside" vp-outline data-v-380c246c><div class="aside-curtain" data-v-380c246c></div><div class="aside-container" data-v-380c246c><div class="aside-content" data-v-380c246c><div class="vp-doc-aside" data-v-380c246c data-v-36d29b94><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-36d29b94 data-v-924d914c><div class="content" data-v-924d914c><div class="outline-marker" data-v-924d914c></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-924d914c><span data-v-924d914c>On this page</span><span class="vpi-print icon" data-v-924d914c></span></div><ul class="root" data-v-924d914c data-v-fc78de7f><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-36d29b94></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-380c246c><div class="content-container" data-v-380c246c><!--[--><!--]--><main class="main" data-v-380c246c><nav class="vp-breadcrumb" data-v-380c246c data-v-389ad6f0><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-389ad6f0><!--[--><li property="itemListElement" typeof="ListItem" data-v-389ad6f0><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-389ad6f0><!--[-->Home<!--]--><!----></a><span class="vpi-chevron-right" data-v-389ad6f0></span><meta property="name" content="Home" data-v-389ad6f0><meta property="position" content="1" data-v-389ad6f0></li><li property="itemListElement" typeof="ListItem" data-v-389ad6f0><span class="vp-link breadcrumb" property="item" typeof="WebPage" data-v-389ad6f0><!--[-->Linux<!--]--><!----></span><span class="vpi-chevron-right" data-v-389ad6f0></span><meta property="name" content="Linux" data-v-389ad6f0><meta property="position" content="2" data-v-389ad6f0></li><li property="itemListElement" typeof="ListItem" data-v-389ad6f0><a class="vp-link link breadcrumb current" href="/notes/misc/linux-net-tools/" property="item" typeof="WebPage" data-v-389ad6f0><!--[-->Linux Net Tools<!--]--><!----></a><!----><meta property="name" content="Linux Net Tools" data-v-389ad6f0><meta property="position" content="3" data-v-389ad6f0></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-8dd3566a><!----> Linux Net Tools <!----></h1><div class="vp-doc-meta" data-v-8dd3566a><!--[--><!--]--><p class="reading-time" data-v-8dd3566a><span class="vpi-books icon" data-v-8dd3566a></span><span data-v-8dd3566a>About 5342 words</span><span data-v-8dd3566a>About 18 min</span></p><p data-v-8dd3566a><span class="vpi-tag icon" data-v-8dd3566a></span><!--[--><span class="vp-link tag vp-tag-dqvg" data-v-8dd3566a><!--[-->utils<!--]--><!----></span><span class="vp-link tag vp-tag-akhq" data-v-8dd3566a><!--[-->network<!--]--><!----></span><!--]--></p><!--[--><!--]--><p class="create-time" data-v-8dd3566a><span class="vpi-clock icon" data-v-8dd3566a></span><span data-v-8dd3566a>2023-11-04</span></p></div><!--]--><!--[--><!--]--><div class="_notes_misc_linux-net-tools_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-380c246c><!--[--><!--]--><div data-v-380c246c><h2 id="linux-网络管理方式总结" tabindex="-1"><a class="header-anchor" href="#linux-网络管理方式总结"><span>Linux 网络管理方式总结</span></a></h2><p>Linux 中有三种主要的网络管理方式：</p><ol><li><p><strong>最早的方法</strong>：</p><ul><li>使用 <code>/etc/network/interfaces</code> 文件和 <code>ifup/ifdown</code> 脚本来管理网络接口。</li></ul></li><li><p><strong>第二种方法</strong>：</p><ul><li>引入了 <code>network-manager</code> 守护进程（通常写作 <code>Network-Manager</code>），它提供了图形界面（GUI）管理网络接口。</li></ul></li><li><p><strong>第三种方法（最新的）</strong>：</p><ul><li>使用 <code>systemd-networkd</code> 守护进程（有时简称为 <code>networkd</code>），它基于 <code>systemd</code> 单元文件进行管理。</li></ul></li></ol><h3 id="判断系统是否使用-systemd" tabindex="-1"><a class="header-anchor" href="#判断系统是否使用-systemd"><span>判断系统是否使用 <code>systemd</code></span></a></h3><p>可以通过以下命令判断你的系统是否使用 <code>systemd</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ps</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> comm=</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 通过查看进程ID为1的命令来判断是否使用systemd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>如果输出为 <code>systemd</code>，则说明系统正在运行 <code>systemd</code>。</li><li>如果不是，则说明系统没有使用 <code>systemd</code>。</li></ul><h3 id="检查正在运行的网络服务" tabindex="-1"><a class="header-anchor" href="#检查正在运行的网络服务"><span>检查正在运行的网络服务</span></a></h3><p>如果系统正在使用 <code>systemd</code>，可以使用以下命令检查网络服务守护进程的状态：</p><ol><li><p>检查 <code>systemd-networkd</code> 的状态：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-networkd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>检查 <code>network-manager</code>（Ubuntu V21.10之前）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> network-manager</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>检查 <code>NetworkManager</code>（Ubuntu V21.10及之后）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> NetworkManager</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>每个命令都会显示以下信息：</p><ul><li><code>Active: active (running)</code> 表示服务正在运行。</li><li><code>Active: inactive (dead)</code> 表示服务未运行。</li></ul><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><p>即使某个网络服务守护进程正在运行，网络硬件接口不一定由该守护进程管理，具体取决于以下情况：</p><ol><li><p><strong>NetworkManager 的例外</strong>：</p><ul><li>如果在 <code>/etc/network/interfaces</code> 文件中定义了接口，<code>network-manager</code> 将忽略这些接口的管理。更多详情请参考 <code>man 5 NetworkManager</code>。</li></ul></li><li><p><strong>systemd-networkd 的例外</strong>：</p><ul><li><code>systemd-networkd</code> 仅管理那些在 <code>.network</code> 文件中定义了适当 <code>[Match]</code> 部分的链接。更多详情请参考 <code>man 8 systemd-networkd</code>。</li></ul></li></ol><h3 id="来源" tabindex="-1"><a class="header-anchor" href="#来源"><span>来源</span></a></h3><p>此信息来自 <a href="https://askubuntu.com/questions/1031439/am-i-running-networkmanager-or-networkd" target="_blank" rel="noopener noreferrer">Ask Ubuntu</a>。</p><h2 id="应用层" tabindex="-1"><a class="header-anchor" href="#应用层"><span>应用层</span></a></h2><h3 id="http-代理配置" tabindex="-1"><a class="header-anchor" href="#http-代理配置"><span>http 代理配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> setproxy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> no_proxy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">localhost,127.0.0.1,localaddress,.localdomain.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> http_proxy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http://172.16.6.115:12607</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> https_proxy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$http_proxy</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Testing proxy access to Instagram...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://www.instagram.com</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -oP</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">(?&lt;=&lt;title&gt;).*?(?=&lt;/title&gt;)</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$title</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Proxy set successfully. [Test Page Title: $title</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    else</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Proxy might not be working. Could not retrieve page title.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    fi</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    proxy_ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://api64.ipify.org?format=json</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -oP</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">(?&lt;=&quot;ip&quot;:&quot;)[^&quot;]+</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$proxy_ip</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Current public IP (via proxy): $proxy_ip</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    else</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Failed to retrieve public IP. Proxy might not be working.</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    fi</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> unsetproxy</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(){</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    unset</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http_proxy</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    unset</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https_proxy</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">proxy off</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="下载工具" tabindex="-1"><a class="header-anchor" href="#下载工具"><span>下载工具</span></a></h3><ul><li><strong>Wget 和 Curl</strong><ul><li>使用 <code>wget</code> 和 <code>curl</code> 下载文件，具体操作详见相关手册。</li></ul></li></ul><h3 id="ftp-文件传输" tabindex="-1"><a class="header-anchor" href="#ftp-文件传输"><span>FTP 文件传输</span></a></h3><ul><li><code>ftp [ip/域名]</code> 连接到 FTP 服务器</li><li><code>passive</code> 开启/关闭被动模式</li><li>常用命令： <ul><li><code>ls</code> 列出文件</li><li><code>mkdir</code> 创建目录</li><li><code>rm</code> 删除文件</li><li><code>lcd</code> 选择本地目录</li><li><code>put [文件名]</code> 上传文件</li><li><code>get [文件名]</code> 下载文件</li></ul></li></ul><h3 id="dns-查询工具" tabindex="-1"><a class="header-anchor" href="#dns-查询工具"><span>DNS 查询工具</span></a></h3><ul><li><strong>resolvectl</strong>：查看 DNS 状态信息<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> resolvectl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>输出示例：<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Global</span></span>
<span class="line"><span>       Protocols: -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported</span></span>
<span class="line"><span>resolv.conf mode: stub</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Link 2 (ens33)</span></span>
<span class="line"><span>    Current Scopes: DNS</span></span>
<span class="line"><span>        Protocols: +DefaultRoute -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported</span></span>
<span class="line"><span>Current DNS Server: 192.168.22.2</span></span>
<span class="line"><span>       DNS Servers: 192.168.22.2</span></span>
<span class="line"><span>        DNS Domain: localdomain</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>whois</strong>：查询域名的注册信息</li><li><strong>nslookup</strong>：查询 DNS 信息</li><li><strong>dig</strong>：查询 DNS 信息</li></ul><h2 id="抓包工具" tabindex="-1"><a class="header-anchor" href="#抓包工具"><span>抓包工具</span></a></h2><ol><li><p><strong>tcpview</strong></p><ul><li>用于显示当前计算机上的所有活动网络连接和监听端口。可以查看每个连接的状态， 使用的协议，连接的远程地址和端口等信息。</li></ul></li><li><p><strong>wireshark</strong></p><ul><li>强大的网络抓包工具，用于捕获并分析网络数据包。通过其图形化界面，用户可以深 入分析网络流量、协议细节等。</li></ul><p>过滤表达式：</p><ul><li><code>(_ws.col.protocol != &quot;ARP&quot;) &amp;&amp; !(_ws.col.info contains &quot;.arpa&quot;) &amp;&amp; !(ip.dst == 129.104.223.255) &amp;&amp; !(ipv6.dst == ff02::fb)</code><br> 用于过滤抓包数据： <ul><li>排除 ARP 协议。</li><li>排除包含 &quot;.arpa&quot; 的信息。</li><li>排除目标 IP 为 <code>129.104.223.255</code> 的数据包。</li><li>排除目标 IPv6 为 <code>ff02::fb</code> 的数据包。</li></ul></li></ul></li></ol><h3 id="nmap-示例" tabindex="-1"><a class="header-anchor" href="#nmap-示例"><span>nmap 示例</span></a></h3><ol><li><p><strong>nmap 扫描端口</strong></p><ul><li><code>nmap -p 1006 panel.ourspeit.top</code><br> 扫描 <code>panel.ourspeit.top</code> 主机上的端口 <code>1006</code>。</li></ul></li><li><p><strong>nmap 扫描 IKEv2 端口</strong></p><ul><li><code>nmap -sU -p 500,4500 stu.vpn.sjtu.edu.cn</code><br> 扫描 <code>stu.vpn.sjtu.edu.cn</code> 主机上的 UDP 端口 <code>500</code> 和 <code>4500</code>，这些端口通常用于 IKEv2 协议。</li></ul></li></ol><h2 id="管理工具" tabindex="-1"><a class="header-anchor" href="#管理工具"><span>管理工具</span></a></h2><ol><li><p><strong>nmcli / nmtui (NetworkManager)</strong></p><ul><li><strong>nmcli</strong>：一个命令行工具，用于与 NetworkManager 进行交互，控制网络连接。</li><li><strong>nmtui</strong>：NetworkManager 的文本用户界面（TUI），提供更直观的方式来管理网络 连接，适用于没有图形界面的环境。</li></ul></li><li><p><strong>netplan</strong></p><ul><li>Netplan 是一个用于配置网络的前端工具，支持 Ubuntu 桌面版的 NetworkManager 和 Ubuntu 服务器版的 systemd-networkd。</li><li>使用 YAML 配置文件来定义网络设置，是一个新的网络配置工具。它补充了 NetworkManager（Ubuntu Desktop 默认）和 systemd-networkd（Ubuntu Server 使 用）。</li></ul><p><strong>常见命令</strong>：</p><ul><li><code>netplan apply</code>：应用配置更改。</li><li><code>netplan generate</code>：生成系统配置。</li></ul></li></ol><h3 id="net-tools-的弃用" tabindex="-1"><a class="header-anchor" href="#net-tools-的弃用"><span>net-tools 的弃用</span></a></h3><p>由于 <code>net-tools</code> 逐渐被弃用，以下是一些常见命令的替代方法：</p><ul><li><p><strong>arp</strong> → <code>ip n</code> 或 <code>ip neighbor</code><br> 显示和操作 ARP 表。</p></li><li><p><strong>ifconfig</strong> → <code>ip a</code>（查看地址信息），<code>ip link</code>（查看链路状态），<code>ip -s</code>（查看统计信息）<br> 用于查看和配置网络接口。</p></li><li><p><strong>iptunnel</strong> → <code>ip tunnel</code><br> 用于管理隧道设备。</p></li><li><p><strong>iwconfig</strong> → <code>iw</code><br> 用于配置无线网络接口。</p></li><li><p><strong>nameif</strong> → <code>ip link</code> 或 <code>ifrename</code><br> 用于更改网络接口名称。</p></li><li><p><strong>netstat</strong> → <code>ss</code>，<code>ip route</code>（查看路由表，替代 <code>netstat -r</code>），<code>ip -s link</code>（查看网络接口状态，替代 <code>netstat -i</code>），<code>ip maddr</code>（查看多播地址，替代 <code>netstat -g</code>）<br><code>ss</code> 是一个更高效的替代 <code>netstat</code> 的工具，用于显示网络连接和套接字信息。</p></li></ul><p><strong>参考来源</strong>：<a href="https://unix.stackexchange.com/questions/258711/alternative-to-netstat-s" target="_blank" rel="noopener noreferrer">Unix Stack Exchange</a></p><h2 id="网络层-tcp-ip" tabindex="-1"><a class="header-anchor" href="#网络层-tcp-ip"><span>网络层 (TCP/IP)</span></a></h2><h3 id="ss-netstat-监控-ip-协议链接" tabindex="-1"><a class="header-anchor" href="#ss-netstat-监控-ip-协议链接"><span><strong>ss / netstat 监控 IP 协议链接</strong></span></a></h3><ul><li><p><strong>netstat</strong>（已弃用）：<br> 用于显示网络连接、路由表、接口统计等。下面是一些常见的 <code>netstat</code> 命令选项：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> netstat</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -tlunp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>选项说明：</p><ul><li><code>-t</code>：显示 TCP 连接。</li><li><code>-l</code>：显示监听状态的套接字。</li><li><code>-u</code>：显示 UDP 连接。</li><li><code>-n</code>：不解析主机名，显示 IP 地址和端口号。</li><li><code>-p</code>：显示使用该端口的进程 PID 和程序名称。Windows 中对应 <code>-o</code>。</li><li><code>-o</code>：显示计时器信息。</li></ul><p><strong>输出示例</strong>：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span></span>
<span class="line"><span>tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      1596/cupsd          </span></span>
<span class="line"><span>tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      791/systemd-resolve </span></span>
<span class="line"><span>tcp        0      0 127.0.0.54:53           0.0.0.0:*               LISTEN      791/systemd-resolve </span></span>
<span class="line"><span>tcp6       0      0 ::1:631                 :::*                    LISTEN      1596/cupsd          </span></span>
<span class="line"><span>udp        0      0 127.0.0.54:53           0.0.0.0:*                           791/systemd-resolve </span></span>
<span class="line"><span>udp        0      0 127.0.0.53:53           0.0.0.0:*                           791/systemd-resolve </span></span>
<span class="line"><span>udp        0      0 0.0.0.0:631             0.0.0.0:*                           1623/cups-browsed   </span></span>
<span class="line"><span>udp        0      0 0.0.0.0:53768           0.0.0.0:*                           1337/avahi-daemon:  </span></span>
<span class="line"><span>udp        0      0 0.0.0.0:5353            0.0.0.0:*                           1337/avahi-daemon:  </span></span>
<span class="line"><span>udp6       0      0 :::44723                :::*                                1337/avahi-daemon:  </span></span>
<span class="line"><span>udp6       0      0 :::5353                 :::*                                1337/avahi-daemon:</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>字段说明</strong>：</p><ul><li><strong>Proto</strong>：协议类型（TCP, UDP, Raw）。</li><li><strong>Recv-Q</strong>：已建立连接时，接收队列中的字节数；监听时，显示当前的 SYN 阻塞队列大小（自 Linux 2.6.18 起）。</li><li><strong>Send-Q</strong>：已建立连接时，发送队列中的字节数；监听时，显示 SYN 阻塞队列的最大大小（自 Linux 2.6.18 起）。</li><li><strong>Local Address</strong>：本地端口的地址和端口号。除非指定 <code>-n</code>，否则默认解析为主机名和服务名。</li><li><strong>Foreign Address</strong>：远程端口的地址和端口号。</li><li><strong>State</strong>：连接的状态，如 LISTEN（监听）、ESTABLISHED（已建立）等。</li><li><strong>PID/Program name</strong>：显示占用该端口的进程 PID 和程序名称。</li></ul></li></ul><h3 id="替代命令-使用-ss" tabindex="-1"><a class="header-anchor" href="#替代命令-使用-ss"><span><strong>替代命令</strong>（使用 <code>ss</code>）</span></a></h3><ul><li><p><strong>ss</strong>：<code>ss</code> 是 <code>netstat</code> 的现代替代工具，速度更快，支持更多的选项。</p><ul><li>示例：<code>ss -tulnp</code></li><li>功能类似 <code>netstat</code>，可以显示 TCP、UDP 连接及其相关信息，支持实时查看网络连接。</li></ul><p>示例输出：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Netid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> State</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  Recv-Q</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Send-Q</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Local</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Address:Port</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  Peer</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Address:Port</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tcp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   LISTEN</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    127.0.0.1:631</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tcp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   LISTEN</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    127.0.0.53:53</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">udp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   UNCONN</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      127.0.0.54:53</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">      *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">udp6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  UNCONN</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">      0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      :::5353</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             :::</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><code>ss</code> 是一个推荐使用的工具，因为它具有更高效的性能和更丰富的功能。</p><h3 id="nftables-数据包的处理和转发" tabindex="-1"><a class="header-anchor" href="#nftables-数据包的处理和转发"><span>nftables 数据包的处理和转发</span></a></h3><ol><li><p><strong>nftables</strong></p><ul><li><code>nftables</code> 是一个现代的网络过滤框架，旨在取代传统的 <code>iptables</code> 和 <code>ip6tables</code>，并提供更简洁和高效的处理方式。</li><li>它提供了一个统一的接口来处理 IPv4、IPv6 数据包的过滤、NAT 和流量控制等。</li><li><code>nftables</code> 引入了规则集和表（tables）的概念，允许对数据包的处理进行更加灵活和模块化的配置。</li></ul></li><li><p><strong>iptables / ip6tables</strong></p><ul><li><strong>iptables</strong> 和 <strong>ip6tables</strong> 是分别用于处理 IPv4 和 IPv6 数据包的传统工 具。</li><li>它们用于配置数据包过滤、网络地址转换（NAT）、端口转发等。虽然 <code>iptables</code> 已 经被 <code>nftables</code> 替代，但许多系统仍然使用它们，尤其是在旧版系统中。</li><li><code>iptables</code> 和 <code>ip6tables</code> 通过链（chains）和规则（rules）来处理数据包。</li></ul><p><strong>注意</strong>：<br><code>iptables</code> 是一个较为陈旧的框架，而 <code>nftables</code> 旨在提供一个现代化的替代方案， 并且包括一个兼容层，使得旧的 <code>iptables</code> 配置可以与 <code>nftables</code> 一起使 用。<code>nftables</code> 在效率、灵活性以及简化规则管理方面都有显著改进。</p></li></ol><p><strong>来自</strong>：<a href="https://wiki.archlinux.org/title/Iptables" target="_blank" rel="noopener noreferrer">ArchWiki - Iptables</a></p><h3 id="ip-addr-get-netadapter-查看网络接口层信息" tabindex="-1"><a class="header-anchor" href="#ip-addr-get-netadapter-查看网络接口层信息"><span><code>ip addr</code>/<code>get-netadapter</code> 查看网络接口层信息</span></a></h3><ul><li><code>ip addr</code>：查看网络接口信息</li><li><code>get-netadapter</code>：PowerShell中查看网络适配器信息（Windows系统）</li></ul><h4 id="命令输出解析" tabindex="-1"><a class="header-anchor" href="#命令输出解析"><span>命令输出解析：</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> addr</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lo:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">LOOPBACK,UP,LOWER_U</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">P</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mtu</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 65536</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qdisc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noqueue</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> state</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UNKNOWN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> group</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qlen</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    link/loopback</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:00:00:00:00</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:00:00:00:00</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    inet</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1/8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lo</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ::1/128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">BROADCAST,MULTICAST,UP,LOWER_U</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">P</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mtu</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1500</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qdisc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pfifo_fast</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> state</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> group</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qlen</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    link/ether</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:0c:29:4c:eb:e8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    altname</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enp2s1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    inet</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.128/24</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.255</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> global</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dynamic</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1385sec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1385sec</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fe80::20c:29ff:fe4c:ebe8/64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">inet</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1/8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lo</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inet</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1/8:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 这是该接口的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址，127.0.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 是环回地址，/8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 表示子网掩码</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 255.0.0.0。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址的作用域为主机（只能在本地主机上通信）。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lo:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 指示该</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址属于</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> `</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">lo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 接口。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        ○</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址永不过期。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        ○</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该地址的优先使用期永不过期。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ::1/128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ::1/128:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 这是环回接口的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址，::1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 是</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 的本地环回地址，/128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 表示单个地址。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> host:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 作用域为本地主机。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 不使用前缀路由。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 与</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 相同，表示地址和优先期永不过期。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">net</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.128/24</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.255</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> global</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dynamic</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inet</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.128/24:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该接口的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址，192.168.22.128</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 是地址，/24</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 表示子网掩码</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 255.255.255.0。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.255:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 这是该子网的广播地址。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> global:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址的作用域是全局（可与外部网络通信）。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dynamic:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 表明此地址是动态分配的（通常通过</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DHCP）。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noprefixroute:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 不使用前缀路由。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该地址属于</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> `</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ens33</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 接口。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1510sec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1510sec</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        ○</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1510sec:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址在</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1510</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 秒内有效。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        ○</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1510sec:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址在</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1510</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 秒内为首选。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fe80::20c:29ff:fe4c:ebe8/64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inet6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fe80::20c:29ff:fe4c:ebe8/64:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 这是接口的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 链路本地地址，</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">fe80::/64</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 是链路本地地址空间。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scope</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 该地址的作用域仅限于本地链路（不能通过路由器转发）。</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> valid_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preferred_lft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> forever</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 与</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IPv4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 的有效期类似，这个地址也是永不过期的。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p><strong>lo（环回接口）</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span></span>
<span class="line"><span>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span></span>
<span class="line"><span>    inet 127.0.0.1/8 scope host lo</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span>
<span class="line"><span>    inet6 ::1/128 scope host noprefixroute</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>inet 127.0.0.1/8</strong>:</p><ul><li><strong>127.0.0.1</strong> 是该接口的 IPv4 地址，<code>/8</code> 表示子网掩码 255.0.0.0。</li><li><strong>scope host</strong>: 地址作用域为主机（仅能在本地主机通信）。</li><li><strong>lo</strong>: 该 IP 地址属于 <code>lo</code> 接口。</li><li><strong>valid_lft forever</strong>: 该 IP 地址永不过期。</li><li><strong>preferred_lft forever</strong>: 该地址的优先使用期永不过期。</li></ul></li><li><p><strong>inet6 ::1/128</strong>:</p><ul><li><strong>::1</strong> 是 IPv6 本地环回地址，<code>/128</code> 表示单个地址。</li><li><strong>scope host</strong>: 地址作用域为本地主机。</li><li><strong>noprefixroute</strong>: 不使用前缀路由。</li><li><strong>valid_lft forever</strong> 和 <strong>preferred_lft forever</strong>: 地址和优先期永不过期。</li></ul></li></ul></li><li><p><strong>ens33（网络接口）</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span></span>
<span class="line"><span>    link/ether 00:0c:29:4c:eb:e8 brd ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span>    altname enp2s1</span></span>
<span class="line"><span>    inet 192.168.22.128/24 brd 192.168.22.255 scope global dynamic noprefixroute ens33</span></span>
<span class="line"><span>       valid_lft 1385sec preferred_lft 1385sec</span></span>
<span class="line"><span>    inet6 fe80::20c:29ff:fe4c:ebe8/64 scope link</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>inet 192.168.22.128/24</strong>:</p><ul><li><strong>192.168.22.128</strong> 是该接口的 IPv4 地址，<code>/24</code> 表示子网掩码 255.255.255.0。</li><li><strong>brd 192.168.22.255</strong>: 这是该子网的广播地址。</li><li><strong>scope global</strong>: 地址作用域为全局（可与外部网络通信）。</li><li><strong>dynamic</strong>: 表明该地址是动态分配的（通常通过 DHCP）。</li><li><strong>noprefixroute</strong>: 不使用前缀路由。</li><li><strong>ens33</strong>: 该地址属于 <code>ens33</code> 接口。</li><li><strong>valid_lft 1385sec</strong>: 该 IP 地址在 1385 秒内有效。</li><li><strong>preferred_lft 1385sec</strong>: 该地址在 1385 秒内为首选。</li></ul></li><li><p><strong>inet6 fe80::20c:29ff:fe4c:ebe8/64</strong>:</p><ul><li><strong>fe80::20c:29ff:fe4c:ebe8/64</strong> 是接口的 IPv6 链路本地地址，<code>fe80::/64</code> 是链路本地地址空间。</li><li><strong>scope link</strong>: 该地址作用域仅限本地链路（不能通过路由器转发）。</li><li><strong>valid_lft forever</strong> 和 <strong>preferred_lft forever</strong>: 地址和优先期永不过期。</li></ul></li></ul></li></ol><h3 id="tcpdump-监听网络接口流量的笔记" tabindex="-1"><a class="header-anchor" href="#tcpdump-监听网络接口流量的笔记"><span><code>tcpdump</code> 监听网络接口流量的笔记：</span></a></h3><h4 id="_1-基本命令" tabindex="-1"><a class="header-anchor" href="#_1-基本命令"><span>1. <strong>基本命令</strong></span></a></h4><ul><li>使用 <code>tcpdump</code> 监听网络接口流量：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tcpdump</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">interfac</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -nn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>例如：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tcpdump</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -nn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>命令解释</strong>：</p><ul><li><code>-i &lt;interface&gt;</code>：指定要监听的网络接口（如 <code>ens33</code>）。</li><li><code>-nn</code>：禁止将主机名和端口号解析为名称，显示原始IP和端口信息。</li></ul><h4 id="_2-输出示例" tabindex="-1"><a class="header-anchor" href="#_2-输出示例"><span>2. <strong>输出示例</strong></span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tcpdump:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> verbose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> suppressed,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> use</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">v</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">...</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> full</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> protocol</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> decode</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">listening</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link-type</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> EN10MB</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (Ethernet), snapshot length 262144 bytes</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:45.843638</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Request</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> who-has</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tell</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 46</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:45.932871</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.1.55999</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 239.255.255.250.1900:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UDP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 175</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:46.948501</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.1.55999</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 239.255.255.250.1900:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UDP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 175</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:47.246930</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Request</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> who-has</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tell</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 46</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:47.854029</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Request</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> who-has</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tell</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 46</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:47.963187</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.1.55999</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 239.255.255.250.1900:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UDP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 175</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:48.853831</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Request</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> who-has</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tell</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 192.168.22.1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 46</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22:26:48.978460</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.22.1.55999</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 239.255.255.250.1900:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UDP,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> length</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 175</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-输出说明" tabindex="-1"><a class="header-anchor" href="#_3-输出说明"><span>3. <strong>输出说明</strong></span></a></h4><ul><li><code>listening on ens33</code>：表示监听的网络接口是 <code>ens33</code>。</li><li><code>link-type EN10MB (Ethernet)</code>：表示链路类型为 Ethernet。</li><li><code>snapshot length 262144 bytes</code>：表示抓包的快照长度为 262144 字节。</li><li>时间戳：每行开头显示的时间戳（例如 <code>22:26:45.843638</code>）。</li><li><code>ARP Request who-has</code>：表示 ARP 请求，查询谁拥有 IP 地址。</li><li><code>IP &lt;src_ip&gt;.&lt;src_port&gt; &gt; &lt;dst_ip&gt;.&lt;dst_port&gt;: UDP, length &lt;length&gt;</code>：表示 UDP 数据包的传输，显示源 IP、源端口、目标 IP、目标端口和数据包长度。</li></ul><h4 id="_4-抓包统计" tabindex="-1"><a class="header-anchor" href="#_4-抓包统计"><span>4. <strong>抓包统计</strong></span></a></h4><ul><li><code>8 packets captured</code>：表示共捕获了 8 个数据包。</li><li><code>8 packets received by filter</code>：表示过滤器接收了 8 个数据包。</li><li><code>0 packets dropped by kernel</code>：表示没有丢失任何数据包。</li></ul><h3 id="ip-route-查看路由表" tabindex="-1"><a class="header-anchor" href="#ip-route-查看路由表"><span><code>ip route</code> 查看路由表</span></a></h3><p>以下是关于 <code>ip route</code> 和 <code>route</code> 路由表查询的整理笔记：</p><h4 id="_1-基本命令-1" tabindex="-1"><a class="header-anchor" href="#_1-基本命令-1"><span>1. <strong>基本命令</strong></span></a></h4><ul><li><strong>查看路由表</strong>： <ul><li><code>route -n</code>（<code>route</code> 命令已被废弃）：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">route</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -n</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><code>ip route</code>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> route</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><h4 id="_2-输出示例-route-n" tabindex="-1"><a class="header-anchor" href="#_2-输出示例-route-n"><span>2. <strong>输出示例</strong>（<code>route -n</code>）</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Kernel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> IP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> routing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> table</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Destination</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     Gateway</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         Genmask</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         Flags</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Metric</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ref</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Iface</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0.0.0.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">         192.168.10.254</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0.0.0.0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">         UG</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    100</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enp1s0</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">192.168.10.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0.0.0.0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">         255.255.255.0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   U</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     100</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">    0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enp1s0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-字段解释" tabindex="-1"><a class="header-anchor" href="#_3-字段解释"><span>3. <strong>字段解释</strong></span></a></h4><ul><li><strong>Destination</strong>：目标网络的 IP 地址。 <ul><li>例如，<code>0.0.0.0</code> 表示默认路由，代表任何地址。</li></ul></li><li><strong>Gateway</strong>：下一跳网关的 IP 地址。如果为 <code>0.0.0.0</code>，表示目标地址与当前网络 直接连接，无需通过网关。</li><li><strong>Genmask</strong>：子网掩码（Netmask），用来定义目标网络的地址范围。 <ul><li>例如，<code>255.255.255.0</code> 表示子网掩码。</li></ul></li><li><strong>Flags</strong>： <ul><li><code>U</code>：该路由是可用的（Up）。</li><li><code>G</code>：该路由需要通过网关进行传递（Gateway）。</li><li><code>H</code>：该路由指向一台主机，而不是一个网络。</li></ul></li><li><strong>Metric</strong>：路由的优先级，数字越小优先级越高。</li><li><strong>Ref</strong>：此字段通常为 0，表示路由参考计数。</li><li><strong>Use</strong>：表示此路由表的使用次数。</li><li><strong>Iface</strong>：网卡接口，即该路由适用的网络接口（如 <code>enp1s0</code>）。</li></ul><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h2><p>以下是关于 <code>ping</code>, <code>traceroute</code>, <code>mtr</code>, 和 <code>nmap</code> 的 Troubleshooting 相关的笔记：</p><h3 id="_1-ping-traceroute-icmp协议" tabindex="-1"><a class="header-anchor" href="#_1-ping-traceroute-icmp协议"><span>1. <strong>Ping / Traceroute：ICMP协议</strong></span></a></h3><ul><li><p><strong>Ping</strong>：用于检查目标主机的可达性，基于 ICMP 协议，通过向目标发送回显请求 （Echo Request）来测试网络连通性。</p></li><li><p><strong>Traceroute (tracert)</strong>：</p><ul><li><strong>功能</strong>：用于追踪数据包到达目标主机所经过的路径。它通过发送 ICMP 数据包 并记录每跳（router）返回的时间和 IP 地址来实现路径跟踪。</li></ul><p><strong>运行过程</strong>：</p><ol><li><strong>发送 ICMP 数据包</strong>：tracert 使用 ICMP 协议发送一个带有有限生存时间 （TTL, Time to Live）的数据包到目标主机。TTL 限制数据包的跳数，避免在网 络中无限循环。</li><li><strong>TTL 逐步增加</strong>：每次发送数据包时，TTL 从 1 开始，逐步增加，经过每个路 由器时，TTL 减少。当 TTL 为 0 时，路由器丢弃该数据包并发送 ICMP 超时消 息。</li><li><strong>路由器响应</strong>：路由器收到 TTL 为 0 的数据包时，返回一个 ICMP 超时消 息，tracert 捕获这些消息并记录下每个路由器的 IP 地址和响应时间。</li><li><strong>重复此过程直到目标</strong>：tracert 持续增加 TTL 并发送数据包，直到成功到达 目标主机，或者达到最大跳数（通常是 30）。</li></ol></li><li><p><strong>命令示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tracert</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">destination_ip_or_hos</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">t</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_2-mtr-icmp" tabindex="-1"><a class="header-anchor" href="#_2-mtr-icmp"><span>2. <strong>MTR：ICMP</strong></span></a></h3><ul><li><p><strong>mtr 命令</strong>（My Traceroute）结合了 <code>ping</code> 和 <code>traceroute</code> 命令的元素，提供 实时的网络质量信息。它是一个非常好的工具，用于排查高延迟和丢包问题。</p></li><li><p><strong>功能</strong>：mtr 命令将每一跳的延迟和丢包率实时显示，帮助用户更有效地诊断网络 问题。</p></li><li><p><strong>命令示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mtr</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">destination_ip_or_hos</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">t</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_3-nmap" tabindex="-1"><a class="header-anchor" href="#_3-nmap"><span>3. <strong>Nmap</strong></span></a></h3><ul><li><p><strong>nmap</strong>（Network Mapper）是一个开源的网络扫描工具，用于网络发现和安全审 计。它可以检测主机、服务、操作系统以及开放端口。</p></li><li><p><strong>命令示例</strong>：</p><ul><li><p>检查指定主机的端口：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nmap</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1006</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> panel.ourspeit.top</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>使用 UDP 扫描检查指定端口：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nmap</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -sU</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 500,4500</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stu.vpn.sjtu.edu.cn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解释：</p><ul><li><code>-sU</code>：使用 UDP 扫描。</li><li><code>-p</code>：指定端口。</li><li><code>stu.vpn.sjtu.edu.cn</code>：目标主机。</li></ul><p>以下是关于 <strong>VPN</strong> 和 <strong>strongSwan</strong> 配置的整理笔记：</p></li></ul></li></ul><h2 id="vpn-配置" tabindex="-1"><a class="header-anchor" href="#vpn-配置"><span>VPN 配置</span></a></h2><h3 id="_1-启动-vpn" tabindex="-1"><a class="header-anchor" href="#_1-启动-vpn"><span>1. <strong>启动 VPN</strong></span></a></h3><ul><li><strong>启动强制模式</strong>（允许配置修改）：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aa-complain</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/lib/ipsec/charon</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aa-complain</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/lib/ipsec/stroke</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>重启 ipsec 服务</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ipsec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>加载配置</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> swanctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --load-all</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>启动 VPN</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> swanctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --child</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vpn-student</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_2-停止-vpn" tabindex="-1"><a class="header-anchor" href="#_2-停止-vpn"><span>2. <strong>停止 VPN</strong></span></a></h3><ul><li><strong>停止 VPN</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> swanctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --ike</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vpn-student</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_3-配置-vpn-环境" tabindex="-1"><a class="header-anchor" href="#_3-配置-vpn-环境"><span>3. <strong>配置 VPN 环境</strong></span></a></h3><ul><li><strong>安装必要的软件包</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apparmor-utils</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # (Ubuntu 桌面版本)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strongswan</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strongswan-swanctl</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libstrongswan-extra-plugins</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libcharon-extra-plugins</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libcharon-extauth-plugins</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libstrongswan-standard-plugins</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>移除证书文件并创建符号链接</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rm</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/ipsec.d/cacerts/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ln</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/ssl/certs/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/ipsec.d/cacerts/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>编辑 VPN 配置文件</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/swanctl/conf.d/sjtuvpn.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0600</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/swanctl/conf.d/sjtuvpn.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>配置撤销文件</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/strongswan.d/charon/revocation.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h3 id="_4-实用工具" tabindex="-1"><a class="header-anchor" href="#_4-实用工具"><span>4. <strong>实用工具</strong></span></a></h3><ul><li><strong>获取公网 IP 地址</strong>： <ul><li><code>47.116.28.185 whatsmyip.ourspeit.top</code></li><li><code>111.186.59.160 whatismyip.sjtu.edu.cn</code></li></ul></li></ul><h3 id="_5-后记-调试与问题排查" tabindex="-1"><a class="header-anchor" href="#_5-后记-调试与问题排查"><span>5. <strong>后记：调试与问题排查</strong></span></a></h3><ol><li><strong>调试过程</strong>： <ul><li>使用 <code>journalctl</code> 查看日志时，发现问题是由于 Ubuntu 默认安装的 <code>apparmor</code> 拒绝了 strongSwan 修改 <code>/etc/resolv.conf</code>，导致连接失败。</li></ul></li><li><strong>在 WSL 中重新配置</strong>： <ul><li>重新配置时没有出现问题，推测可能是由于交大 VPN 页面要求安装 <code>resolvctl</code>（已弃用）造成的问题。</li></ul></li><li><strong>问题定位</strong>： <ul><li>经验证，问题源于 <code>resolvctl</code> 配置错误，导致 VPN 无法正常连接。</li></ul></li></ol><h2 id="链路层" tabindex="-1"><a class="header-anchor" href="#链路层"><span>链路层</span></a></h2><p>以下是整理后的链路层相关命令及解释：</p><h3 id="_1-查看链路层接口信息-ip-link" tabindex="-1"><a class="header-anchor" href="#_1-查看链路层接口信息-ip-link"><span>1. <strong>查看链路层接口信息： <code>ip link</code></strong></span></a></h3><ul><li>使用 <code>ip link</code> 命令查看网络接口的链路层信息：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>输出示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lo:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">LOOPBACK,UP,LOWER_U</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">P</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mtu</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 65536</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qdisc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> noqueue</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> state</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UNKNOWN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DEFAULT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> group</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qlen</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    link/loopback</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:00:00:00:00</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:00:00:00:00</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ens33:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">BROADCAST,MULTICAST,UP,LOWER_U</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">P</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mtu</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1500</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qdisc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pfifo_fast</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> state</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DEFAULT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> group</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> qlen</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    link/ether</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:0c:29:4c:eb:e8</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    altname</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enp2s1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解释</strong>：</p><ul><li><strong>接口编号和名称</strong>： <ul><li><code>lo</code>：回环接口（loopback interface），编号为 1。</li><li><code>ens33</code>：以太网接口，编号为 2。</li></ul></li><li><strong>接口标志</strong>： <ul><li><code>&lt;LOOPBACK, UP, LOWER_UP&gt;</code>：<code>lo</code> 接口的标志。表示回环接口已启用，且物理链路已连接。</li><li><code>&lt;BROADCAST, MULTICAST, UP, LOWER_UP&gt;</code>：<code>ens33</code> 接口的标志。表示支持广 播、组播，已启用，物理链路已连接。</li></ul></li><li><strong>MTU（最大传输单元）</strong>： <ul><li><code>mtu 65536</code>：回环接口的 MTU 值是 65536 字节。</li><li><code>mtu 1500</code>：<code>ens33</code> 接口的 MTU 值为 1500 字节（以太网标准）。</li></ul></li><li><strong>qdisc（队列调度器）</strong>： <ul><li><code>qdisc noqueue</code>：<code>lo</code> 接口没有队列调度器。</li><li><code>qdisc pfifo_fast</code>：<code>ens33</code> 接口使用 Linux 默认的队列调度器。</li></ul></li><li><strong>state（接口状态）</strong>： <ul><li><code>state UNKNOWN</code>：<code>lo</code> 接口的状态，通常没有明确的“状态”。</li><li><code>state UP</code>：<code>ens33</code> 接口的状态，表示接口已启用并处于活动状态。</li></ul></li><li><strong>link（链路层信息）</strong>： <ul><li><code>link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</code>：回环接口的链路层信息。</li><li><code>link/ether 00:0c:29:4c:eb:e8 brd ff:ff:ff:ff:ff:ff</code>：以太网接口的 MAC 地址是 <code>00:0c:29:4c:eb:e8</code>，广播地址是 <code>ff:ff:ff:ff:ff:ff</code>。</li></ul></li></ul><h3 id="_2-查看-arp-表-ip-neigh-arp" tabindex="-1"><a class="header-anchor" href="#_2-查看-arp-表-ip-neigh-arp"><span>2. <strong>查看 ARP 表： <code>ip neigh</code> / <code>arp</code></strong></span></a></h3><ul><li>使用 <code>ip neigh</code> 查看 ARP 表信息：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> neigh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>输出示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">172.30.64.1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">dev</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> eth0</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">lladdr</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:15:5d:b0:32:f1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">STALE</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用 <code>arp -n</code> 查看 ARP 表（该命令已被废弃）：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">arp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -n</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>输出示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Address</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                  HWtype</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  HWaddress</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">           Flags</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Mask</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">            Iface</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">192.168.22.254</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">           ether</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   00:50:56:f9:3e:d0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   C</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                     ens33</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">192.168.22.2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">             ether</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   00:50:56:f4:21:18</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   C</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                     ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解释</strong>：</p><ul><li><code>Address</code>：目标 IP 地址。</li><li><code>HWaddress</code>：目标设备的 MAC 地址。</li><li><code>Flags</code>：标志位（如 <code>C</code> 表示已缓存）。</li><li><code>Iface</code>：使用的网络接口（如 <code>ens33</code>）。</li><li><code>STALE</code>：表示 ARP 表项为过时状态。</li></ul><h3 id="_3-查看以太网接口参数-ethtool" tabindex="-1"><a class="header-anchor" href="#_3-查看以太网接口参数-ethtool"><span>3. <strong>查看以太网接口参数： <code>ethtool</code></strong></span></a></h3><ul><li>使用 <code>ethtool</code> 查看以太网接口的详细参数：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ethtool</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> eno1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p><strong>输出示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Settings</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> eno1:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Supported</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ports:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">TP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Supported</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> modes:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   10baseT/Half</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 10baseT/Full</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                                100baseT/Half</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 100baseT/Full</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                                1000baseT/Full</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Speed:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1000Mb/s</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Duplex:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Full</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Auto-negotiation:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Port:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Twisted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Pair</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        PHYAD:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Transceiver:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> internal</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        MDI-X:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> off</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (auto)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Supports</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Wake-on:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pumbg</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Wake-on:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> g</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        Link</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> detected:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解释</strong>：</p><ul><li><strong>支持的连接模式</strong>（Supported link modes）：显示支持的连接速度，如 1000baseT/Full，表示支持 1Gbps 的全双工连接。</li><li><strong>当前速度</strong>（Speed）：当前连接速度，如 <code>1000Mb/s</code>。</li><li><strong>双工模式</strong>（Duplex）：表示是否为全双工（Full）或半双工（Half）。</li><li><strong>自动协商</strong>（Auto-negotiation）：是否启用自动协商，<code>on</code> 表示启用。</li><li><strong>网络线类型</strong>（Port）：使用的网络线类型，<code>Twisted Pair</code> 表示双绞线。</li><li><strong>Link detected</strong>：是否检测到链路连接，<code>yes</code> 表示已连接。</li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-380c246c data-v-7bfa3324><!--[--><!--]--><div class="edit-info" data-v-7bfa3324><div class="edit-link" data-v-7bfa3324><a class="vp-link link no-icon edit-link-button" href="https://github.com/SaturnTsen/saturntsen.github.io/edit/main/docs/notes/misc/Linux Net Tools.md" target="_blank" rel="noreferrer" data-v-7bfa3324><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-7bfa3324></span> Edit this page<!--]--><!----></a></div><!----></div><div class="contributors" aria-label="Contributors" data-v-7bfa3324><span class="contributors-label" data-v-7bfa3324>Contributors: </span><span class="contributors-info" data-v-7bfa3324><!--[--><!--[--><span class="contributor" data-v-7bfa3324>SaturnTsen</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-7bfa3324><div class="pager" data-v-7bfa3324><a class="vp-link link pager-link prev" href="/notes/misc/linux-commands-system/" data-v-7bfa3324><!--[--><span class="desc" data-v-7bfa3324>Previous page</span><span class="title" data-v-7bfa3324>Linux 系统级常用指令</span><!--]--><!----></a></div><div class="pager" data-v-7bfa3324><a class="vp-link link pager-link next" href="/notes/misc/win-network/" data-v-7bfa3324><!--[--><span class="desc" data-v-7bfa3324>Next page</span><span class="title" data-v-7bfa3324>Network Configuration</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-380c246c><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-a218b6db data-v-6955073a><span class="percent" data-allow-mismatch data-v-6955073a>0%</span><span class="show icon vpi-back-to-top" data-v-6955073a></span><svg aria-hidden="true" data-v-6955073a><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-6955073a></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-a218b6db data-v-d9d63044><!--[--><div class="container" data-v-d9d63044><p class="message" data-v-d9d63044>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><p class="copyright" data-v-d9d63044>© 2024 SaturnTsen | Powered by <a href="https://vuepress.vuejs.org/" target="_blank">VuePress</a> & <a href="https://theme-plume.vuejs.press/" target="_blank">Plume</a></p></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-BPmJL-vo.js" defer></script></body></html>